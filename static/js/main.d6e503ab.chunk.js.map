{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardDelete","name","link","onCardClick","onCardLike","length","Main","onEditAvatarClick","style","backgroundImage","avatar","type","onEditProfileClick","about","onAddPlaceClick","cards","map","Footer","PopupWithForm","isOpen","onClose","title","onSubmit","children","btnText","AddPlacePopup","useState","setName","setLink","e","preventDefault","onAddPlaceSubmit","id","autoComplete","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","EditProfilePopup","description","setDescription","useEffect","onUpdateUser","DeleteCardPopup","ImagePopup","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","method","body","JSON","stringify","cardId","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","closeAllPopups","getUserInfo","console","log","catch","err","setCards","getInitialCards","Provider","clickedCard","removeLike","newCard","state","c","addLike","removeCard","filter","cardData","addCard","setUserAvatar","userData","setUserInfo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d6e503ab.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import React from \"react\";\nimport logo from '../images/logo.svg';\n\nfunction Header() {\n    return(\n        <header className=\"header\">\n            <img src={logo}  className=\"logo\" alt=\"logo\" />\n        </header>\n    );\n}\n\nexport default Header;","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from \"react\";\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    // Checking if the current user is the owner of the current card\n    const isOwn = props.card.owner._id === currentUser._id;\n\n    // Creating a variable which you'll then set in `className` for the delete button\n    const cardDeleteButtonClassName = (\n        `card__delete-button ${isOwn ? 'card__delete-button_visible' : 'card__delete-button_hidden'}`\n    ); \n\n    // Check if the card was liked by the current user\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n    // Create a variable which you then set in `className` for the like button\n    const cardLikeButtonClassName = (\n        `card__heart-icon ${isLiked ? 'card__heart-icon_active' : ''}`\n     )\n\n    function handleClick() {\n        props.onCardClick(props.card);\n      }\n    \n    function handleLike() {\n        props.onCardLike(props.card);\n    }\n\n    function handleDelete() {\n        props.onCardDelete(props.card);\n    }\n\n\n    return(\n        <div className=\"card\" key={props.card._id}>\n            <button className={cardDeleteButtonClassName} onClick={handleDelete}></button>\n            <img className=\"card__image\" alt={props.card.name} src={props.card.link} onClick={handleClick} />\n            <div className=\"card__textblock\">\n                <h2 className=\"card__title\">{props.card.name}</h2>\n                <div className=\"card__likes-container\">\n                    <button className={cardLikeButtonClassName} onClick={handleLike}></button>\n                    <p className=\"card__likes-counter\">{props.card.likes.length}</p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Card;","import React from \"react\";\nimport Card from './Card.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return(\n        <main className=\"content\">\n        <section className=\"profile\">\n            <div className=\"profile__details\">\n                <div className=\"profile__image-container\">\n                    <div className=\"profile__image-overlay\" onClick={props.onEditAvatarClick}></div>\n                    <div className=\"profile__image\" style={{ backgroundImage: `url(${currentUser.avatar})` }}   alt=\"avatar\" ></div>\n                </div>\n                <div className=\"profile__description\">\n                    <div className=\"profile__name-wrapper\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Edit profile\" onClick={props.onEditProfileClick}></button>\n                    </div>\n                    <p className=\"profile__about\">{currentUser.about}</p>\n                </div>\n            </div>\n            <button className=\"profile__add-button\" type=\"button\" aria-label=\"Add image\" onClick={props.onAddPlaceClick}></button>\n        </section>\n\n       \n        <section className=\"image-grid\">\n        {props.cards.map(card => (\n               <Card \n                    card={card}\n                    key={card._id}\n                    onCardClick={props.onCardClick}\n                    onCardLike={props.onCardLike}\n                    onCardDelete={props.onCardDelete}\n                />\n        ))}\n        </section>\n\n    </main>\n    );\n}\n\nexport default Main;","import React from \"react\";\n\nfunction Footer() {\n    return(\n        <footer className=\"footer\">\n            <p className=\"footer__text\">&copy; 2021 Around The U.S.</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from \"react\";\n\nfunction PopupWithForm(props) {\n    return(\n        <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : '' }`}>\n        <div className=\"popup__container\">\n            <button className=\"popup__close-button popup__close-button_type_form\" type=\"button\"\n                aria-label=\"Close popup\" onClick={props.onClose}></button>\n            <div className=\"popup__form\">\n                <h2 className=\"popup__container-title\">{props.title}</h2>\n                <form className={`popup__form-main popup__form-main_type_${props.name}`} name={`form-${props.name}`} onSubmit={props.onSubmit}>\n                    {props.children}\n                    <button className=\"popup__submit-button\" type=\"submit\" aria-label=\"Save changes\">{props.btnText}</button>\n                </form>\n            </div>\n        </div>\n    </div>\n    );\n}\n\nexport default PopupWithForm;","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n    const[name, setName] = React.useState();\n    const[link, setLink] = React.useState();\n\n    function handleChangeTitle(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeLink(e) {\n        setLink(e.target.value);\n    }\n    \n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddPlaceSubmit({\n          name: name,\n          link: link\n        });\n        props.onClose();\n      } \n\n    return(\n        <PopupWithForm name=\"add-img\" title=\"New Place\" btnText=\"Create\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <label className=\"popup__form-field\">\n                <input type=\"text\" className=\"popup__input popup__input_type_title\" id=\"title-input\" autoComplete=\"off\" placeholder=\"Title\" name=\"name\" minLength=\"1\" maxLength=\"30\" value={name || ''} onChange={handleChangeTitle} required />\n                <span id=\"title-input-error\" className=\"popup__error\"></span>\n            </label>\n            <label className=\"popup__form-field\">\n                <input type=\"url\" className=\"popup__input popup__input_type_img\" id=\"image-url-input\" autoComplete=\"off\" placeholder=\"Image URL\" name=\"link\" value={link || ''} onChange={handleChangeLink} required />\n                <span id=\"image-url-input-error\" className=\"popup__error\"></span>\n            </label>\n        </PopupWithForm>\n    );\n}\n\nexport default AddPlacePopup;","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n    const avatarRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n      \n        props.onUpdateAvatar({\n          avatar: avatarRef.current.value /* The value of the input which we got using the ref */\n        })\n        props.onClose();\n      } \n\n    return(\n        <PopupWithForm name=\"avatar\" title=\"Change profile picture\" btnText=\"Save\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <label className=\"popup__form-field\">\n                <input type=\"url\" className=\"popup__input popup__input_type_img\" id=\"avatar-url-input\" autoComplete=\"off\" placeholder=\"Image URL\" name=\"link\" ref={avatarRef} required />\n                <span id=\"avatar-url-input-error\" className=\"popup__error\"></span>\n            </label>\n        </PopupWithForm>\n    );\n}\n\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const[name, setName] = React.useState(currentUser.name);\n    const[description, setDescription] = React.useState(currentUser.about);\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n      }, [currentUser]); \n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser({\n          name: name,\n          about: description,\n        });\n        props.onClose();\n      } \n\n    return(\n    <PopupWithForm name=\"edit\" title=\"Edit profile\" btnText=\"Save changes\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n        <label className=\"popup__form-field\">\n            <input type=\"text\" className=\"popup__input popup__input_type_name\" id=\"name-input\" autoComplete=\"off\" placeholder=\"Name\" name=\"username\" minLength=\"2\" maxLength=\"40\" value={name || ''} onChange={handleChangeName} required/>\n            <span id=\"name-input-error\" className=\"popup__error\"></span>\n        </label>\n        <label className=\"popup__form-field\">\n            <input type=\"text\" className=\"popup__input popup__input_type_about\" id=\"about-input\" autoComplete=\"off\" placeholder=\"About me\" name=\"userjob\" minLength=\"2\" maxLength=\"200\" value={description || ''} onChange={handleChangeDescription} required />\n            <span id=\"about-input-error\" className=\"popup__error\"></span>\n        </label>\n    </PopupWithForm>\n    );\n}\n\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup(props) {\n    return(\n    <PopupWithForm name=\"delete\" title=\"Are you sure?\" btnText=\"Yes\" isOpen={props.isOpen} onClose={props.onClose}>\n       \n    </PopupWithForm>\n    );\n}\n\nexport default DeleteCardPopup;","import React from \"react\";\n\n//Only open popup and return corresponding data if props.card (selectedCard) is true\nfunction ImagePopup(props) {\n    return(\n        <div className={`popup popup_type_image ${props.card && 'popup_opened'}`}>\n        <div className=\"popup__wrapper\">\n            <button className=\"popup__close-button popup__close-button_type_image\" type=\"button\"\n                aria-label=\"Close popup\" onClick={props.onClose}></button>\n            <img src={props.card ? props.card.link : '#'} alt={props.card ? props.card.name : '#'} className=\"popup__image\" />\n            <figcaption className=\"popup__caption\">{props.card ? props.card.name : ''}</figcaption>\n        </div>\n    </div>\n    );\n}\n\nexport default ImagePopup;","class Api {\n    constructor({baseUrl, headers}) {\n      this._baseUrl = baseUrl;\n      this._headers = headers;\n    }\n\n    _checkResponse(res){\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);    \n    }\n  \n    getInitialCards() {\n      return fetch(this._baseUrl + '/cards', {\n          headers: this._headers\n      })\n      .then((res) => { \n        return this._checkResponse(res);      \n      })\n    }\n\n    getUserInfo() {\n        return fetch(this._baseUrl + '/users/me', {\n            headers: this._headers\n        })\n        .then((res) => { \n            return this._checkResponse(res);      \n          })\n    }\n\n    setUserInfo({ name, about }) {\n        return fetch(this._baseUrl + '/users/me', {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify({\n                name,\n                about\n            })\n        })\n        .then((res) => { \n            return this._checkResponse(res);      \n          })\n      };\n    \n\n    addCard({ name, link }) {\n        return fetch(this._baseUrl + '/cards', {\n            headers: this._headers,\n            method: \"POST\",\n            body: JSON.stringify({\n                name,\n                link\n            })\n        })\n        .then((res) => { \n            return this._checkResponse(res);      \n          })\n      };\n\n    removeCard(cardId) {\n        return fetch(this._baseUrl + '/cards/' + cardId, {\n            headers: this._headers,\n            method: \"DELETE\"\n        })\n        .then((res) => { \n            return this._checkResponse(res);      \n          })\n    }\n\n    /*changeLikeCardStatus(cardId, isLiked){\n        if(isLiked) {\n            return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n                method: \"DELETE\",\n                headers: this._headers\n            })\n            .then((res) => { \n                return this._checkResponse(res);      \n              })\n        } else {\n            return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n                method: \"PUT\",\n                headers: this._headers\n            })\n            .then((res) => { \n                return this._checkResponse(res);      \n              })\n        }\n    }*/\n\n    addLike(cardId) {\n        return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n            method: \"PUT\",\n            headers: this._headers\n        })\n        .then((res) => { \n            return this._checkResponse(res);      \n          })\n    }\n\n    removeLike(cardId) {\n        return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n            method: \"DELETE\",\n            headers: this._headers\n        })\n        .then((res) => { \n            return this._checkResponse(res);      \n          })\n    }\n\n    setUserAvatar({ avatar }) {\n        return fetch(this._baseUrl + '/users/me/avatar', {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify({\n                avatar\n            })\n        })\n        .then((res) => { \n            return this._checkResponse(res);      \n          })\n      }\n  }\n\n  const api = new Api({\n    baseUrl: \"https://around.nomoreparties.co/v1/group-12\",\n    headers: {\n      authorization: \"75ee1925-b4bb-487f-88d2-d6f873f1ed28\",\n      \"Content-Type\": \"application/json\"\n    }\n  });\n\nexport default api;\n  \n","import React from \"react\";\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport DeleteCardPopup from \"./DeleteCardPopup.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport api from '../utils/api.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction App() {\n    const[isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const[isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const[isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const[selectedCard, setSelectedCard] = React.useState();\n    const[currentUser, setCurrentUser] = React.useState({});\n    \n\n    React.useEffect(() => {\n        api.getUserInfo().then((res) => {\n            setCurrentUser(res);\n\n          console.log('DATA',res);\n        })\n        .catch((err) => {\n          console.log(err); // Log error to console\n        })\n    }, []);\n\n\n    function handleCardClick(clickedCard) {\n        setSelectedCard(clickedCard);\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setSelectedCard();\n    }\n\n    const[cards, setCards] = React.useState([]);\n\n    React.useEffect(() => {\n        api.getInitialCards().then((res) => {\n          setCards(res)\n          console.log('CARDS', res)\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n    }, []);\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        \n        // Send a request to the API and getting the updated card data\n        if(isLiked){\n            api.removeLike(card._id)\n            .then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            })\n            .catch((err) => {\n                console.log(err);\n              });\n        } else {\n            api.addLike(card._id)\n            .then((newCard) => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            })\n            .catch((err) => {\n                console.log(err);\n              });\n        }\n    } \n\n    function handleCardDelete(card){\n        api.removeCard(card._id)\n        .then(() => {\n            setCards((state) => state.filter((c) => c._id !== card._id));\n        });\n    }\n\n    function handleUpdateUser(userData){\n        api.setUserInfo(userData)\n        .then((res) => {\n            setCurrentUser(res)\n        })\n        .catch((err) => {console.log(err)});\n    }\n\n    function handleUpdateAvatar(avatar){\n        api.setUserAvatar(avatar)\n        .then((res) => {\n            setCurrentUser(res)\n        })\n        .catch((err) => {console.log(err)});\n    }\n\n    function handleAddPlaceSubmit(cardData){\n        api.addCard(cardData)\n        .then((newCard) => {\n            setCards([newCard, ...cards]);\n        })\n        .catch((err) => {console.log(err)});\n    }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n        <Header />\n\n        <Main \n            onCardClick={handleCardClick}\n            onEditProfileClick={handleEditProfileClick}\n            onAddPlaceClick={handleAddPlaceClick}\n            onEditAvatarClick={handleEditAvatarClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onClose={closeAllPopups}\n            cards={cards}\n        />\n\n        <AddPlacePopup \n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlaceSubmit={handleAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <EditProfilePopup \n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n        />\n\n        <DeleteCardPopup />\n        \n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n\n        <Footer />\n    \n    </CurrentUserContext.Provider>\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}