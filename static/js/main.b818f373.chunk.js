(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(4),c=a.n(r),i=(a(11),a(2)),o=a.p+"static/media/logo.4e8e0a1d.svg",l=a(0);var p=function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("img",{src:o,className:"logo",alt:"logo"})})},u=a(5),d=a(6),_=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(u.a)(this,e),this._baseUrl=a,this._headers=n}return Object(d.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getInitialCards",value:function(){var e=this;return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((function(t){return e._checkResponse(t)}))}},{key:"getUserInfo",value:function(){var e=this;return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((function(t){return e._checkResponse(t)}))}},{key:"setUserInfo",value:function(e){var t=this,a=e.name,n=e.about;return fetch(this._baseUrl+"/users/me",{headers:this._headers,method:"PATCH",body:JSON.stringify({name:a,about:n})}).then((function(e){return t._checkResponse(e)}))}},{key:"addCard",value:function(e){var t=this,a=e.name,n=e.link;return fetch(this._baseUrl+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:a,link:n})}).then((function(e){return t._checkResponse(e)}))}},{key:"removeCard",value:function(e){var t=this;return fetch(this._baseUrl+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then((function(e){return t._checkResponse(e)}))}},{key:"addLike",value:function(e){var t=this;return fetch(this._baseUrl+"/cards/likes/"+e,{method:"PUT",headers:this._headers}).then((function(e){return t._checkResponse(e)}))}},{key:"removeLike",value:function(e){var t=this;return fetch(this._baseUrl+"/cards/likes/"+e,{method:"DELETE",headers:this._headers}).then((function(e){return t._checkResponse(e)}))}},{key:"setUserAvatar",value:function(e){var t=this,a=e.avatar;return fetch(this._baseUrl+"/users/me/avatar",{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:a})}).then((function(e){return t._checkResponse(e)}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"75ee1925-b4bb-487f-88d2-d6f873f1ed28","Content-Type":"application/json"}});var m=function(e){return Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("button",{className:"card__delete"}),Object(l.jsx)("img",{className:"card__image",alt:e.card.name,src:e.card.link,onClick:function(){e.onCardClick(e.card)}}),Object(l.jsxs)("div",{className:"card__textblock",children:[Object(l.jsx)("h2",{className:"card__title",children:e.card.name}),Object(l.jsxs)("div",{className:"card__likes-container",children:[Object(l.jsx)("button",{className:"card__heart-icon"}),Object(l.jsx)("p",{className:"card__likes-counter",children:e.card.likes})]})]})]})};var j=function(e){var t=s.a.useState(""),a=Object(i.a)(t,2),n=a[0],r=a[1],c=s.a.useState(""),o=Object(i.a)(c,2),p=o[0],u=o[1],d=s.a.useState(""),j=Object(i.a)(d,2),h=j[0],b=j[1],f=s.a.useState([]),O=Object(i.a)(f,2),x=O[0],v=O[1];return s.a.useEffect((function(){_.getUserInfo().then((function(e){r(e.avatar),u(e.about),b(e.name),console.log("DATA",e)}))}),[]),s.a.useEffect((function(){_.getInitialCards().then((function(e){v(e.map((function(e){return{link:e.link,name:e.name,likes:e.likes.length,key:e._id}}))),console.log("CARDS",e)}))}),[]),Object(l.jsxs)("main",{className:"content",children:[Object(l.jsxs)("section",{className:"profile",children:[Object(l.jsxs)("div",{className:"profile__details",children:[Object(l.jsxs)("div",{className:"profile__image-container",children:[Object(l.jsx)("div",{className:"profile__image-overlay",onClick:e.onEditAvatarClick}),Object(l.jsx)("img",{className:"profile__image",src:n,alt:"avatar"})]}),Object(l.jsxs)("div",{className:"profile__description",children:[Object(l.jsxs)("div",{className:"profile__name-wrapper",children:[Object(l.jsx)("h1",{className:"profile__name",children:h}),Object(l.jsx)("button",{className:"profile__edit-button",type:"button","aria-label":"Edit profile",onClick:e.onEditProfileClick})]}),Object(l.jsx)("p",{className:"profile__about",children:p})]})]}),Object(l.jsx)("button",{className:"profile__add-button",type:"button","aria-label":"Add image",onClick:e.onAddPlaceClick})]}),Object(l.jsx)("section",{className:"image-grid",children:x.map((function(t){return Object(l.jsx)(m,{card:t,link:t.link,name:t.name,likes:t.likes,onCardClick:e.onCardClick},t._id)}))})]})};var h=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{className:"footer__text",children:"\xa9 2020 Around The U.S."})})};var b=function(e){return Object(l.jsx)("div",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen?"popup_opened":""),children:Object(l.jsxs)("div",{className:"popup__container",children:[Object(l.jsx)("button",{className:"popup__close-button popup__close-button_type_form",type:"button","aria-label":"Close popup",onClick:e.onClose}),Object(l.jsxs)("div",{className:"popup__form",children:[Object(l.jsx)("h2",{className:"popup__container-title",children:e.title}),Object(l.jsxs)("form",{className:"popup__form-main popup__form-main_type_".concat(e.name),name:"popupForm",noValidate:!0,children:[e.children,Object(l.jsx)("button",{className:"popup__submit-button",type:"submit","aria-label":"Save changes",children:e.btnText})]})]})]})})};var f=function(e){return Object(l.jsxs)(b,{name:"add-img",title:"New Place",btnText:"Create",isOpen:e.isOpen,onClose:e.onClose,children:[Object(l.jsxs)("label",{className:"popup__form-field",children:[Object(l.jsx)("input",{type:"text",className:"popup__input popup__input_type_title",id:"title-input",autoComplete:"off",placeholder:"Title",name:"name",minLength:"1",maxLength:"30",required:!0}),Object(l.jsx)("span",{id:"title-input-error",className:"popup__error"})]}),Object(l.jsxs)("label",{className:"popup__form-field",children:[Object(l.jsx)("input",{type:"url",className:"popup__input popup__input_type_img",id:"image-url-input",autoComplete:"off",placeholder:"Image URL",name:"link",required:!0}),Object(l.jsx)("span",{id:"image-url-input-error",className:"popup__error"})]})]})};var O=function(e){return Object(l.jsx)(b,{name:"avatar",title:"Change profile picture",btnText:"Save",isOpen:e.isOpen,onClose:e.onClose,children:Object(l.jsxs)("label",{className:"popup__form-field",children:[Object(l.jsx)("input",{type:"url",className:"popup__input popup__input_type_img",id:"avatar-url-input",autoComplete:"off",placeholder:"Image URL",name:"link",required:!0}),Object(l.jsx)("span",{id:"avatar-url-input-error",className:"popup__error"})]})})};var x=function(e){return Object(l.jsxs)(b,{name:"edit",title:"Edit profile",btnText:"Save changes",isOpen:e.isOpen,onClose:e.onClose,children:[Object(l.jsxs)("label",{className:"popup__form-field",children:[Object(l.jsx)("input",{type:"text",className:"popup__input popup__input_type_name",id:"name-input",autoComplete:"off",placeholder:"Name",name:"username",minLength:"2",maxLength:"40",required:!0}),Object(l.jsx)("span",{id:"name-input-error",className:"popup__error"})]}),Object(l.jsxs)("label",{className:"popup__form-field",children:[Object(l.jsx)("input",{type:"text",className:"popup__input popup__input_type_about",id:"about-input",autoComplete:"off",placeholder:"About me",name:"userjob",minLength:"2",maxLength:"200",required:!0}),Object(l.jsx)("span",{id:"about-input-error",className:"popup__error"})]})]})};var v=function(){return Object(l.jsx)(b,{name:"delete",title:"Are you sure?",btnText:"Yes"})};var k=function(e){return Object(l.jsx)("div",{className:"popup popup_type_image ".concat(e.card&&"popup_opened"),children:Object(l.jsxs)("div",{className:"popup__wrapper",children:[Object(l.jsx)("button",{className:"popup__close-button popup__close-button_type_image",type:"button","aria-label":"Close popup",onClick:e.onClose}),Object(l.jsx)("img",{src:e.card?e.card.link:"#",alt:e.card?e.card.name:"#",className:"popup__image"}),Object(l.jsx)("figcaption",{className:"popup__caption",children:e.card?e.card.name:""})]})})};var N=function(){var e=s.a.useState(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=s.a.useState(!1),c=Object(i.a)(r,2),o=c[0],u=c[1],d=s.a.useState(!1),_=Object(i.a)(d,2),m=_[0],b=_[1],N=s.a.useState(),g=Object(i.a)(N,2),C=g[0],y=g[1];function S(){b(!1),n(!1),u(!1),y()}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(p,{}),Object(l.jsx)(j,{onCardClick:function(e){y(e)},onEditProfileClick:function(){n(!0)},onAddPlaceClick:function(){u(!0)},onEditAvatarClick:function(){b(!0)},onClose:S}),Object(l.jsx)(f,{isOpen:o,onClose:S}),Object(l.jsx)(O,{isOpen:m,onClose:S}),Object(l.jsx)(x,{isOpen:a,onClose:S}),Object(l.jsx)(v,{}),Object(l.jsx)(k,{card:C,onClose:S}),Object(l.jsx)(h,{})]})},g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,14)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};c.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root")),g()}},[[13,1,2]]]);
//# sourceMappingURL=main.b818f373.chunk.js.map